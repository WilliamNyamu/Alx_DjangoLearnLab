{% extends 'blog/base.html' %}
{% load static %}
{% block title %}{{post.title}} {% endblock %}
{% block styles %}
  <link rel="stylesheet" href="{% static 'css/blog-detail.css' %}" />
{% endblock %}
{% block content %}
<main class="container">
<!-- Blog article -->
    <article class="blog-post">
        <h1 class="post-title">{{post.title}}</h1>
        <div class="post-meta">
        <span>By <strong>{{post.author.first_name}}</strong></span>
        <span>•</span>
        <time datetime="2025-09-30">{{post.published_date}}</time>
        <span class="tags">Python • Django</span>
        </div>

        <img class="post-hero" src="{% static 'images/events.webp' %}" alt="Hero Image">

        <div class="post-content">
        {{post.content}}
    </article>

    <!-- Comments section -->
    <section class="comments">
        <h2>Comments</h2>
        <ul class="comment-list">
            {% for comment in comments %}
            <li class="comment">
                <div class="comment-author">
                    <img style="border-bottom: 50%; width: 24px; height: 24px; object-fit: cover;" src="{{ comment.author.profile.profile_photo.url }}" alt="{{ comment.author.first_name }}" class="author-pic">
                    <div class="author-info">
                        <p class="author-name">{{ comment.author.first_name }}</p>
                        <p class="comment-content">{{ comment.content }}</p>
                    </div>
                </div>
            </li>
            {% empty %}
            <p class="no-comments">No comments yet!</p>
            {% endfor %}
        </ul>
        {% if form.instance.pk %}
            <a href="{% url 'comment-update' post.pk %}">Edit your comment</a>
        {% else %}
            <a href="{% url 'comment-create' post.pk %}">Post a comment</a>
        {% endif %}
    </section>
</main>
{% endblock %}
